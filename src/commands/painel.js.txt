import {
  SlashCommandBuilder,
  EmbedBuilder,
  ActionRowBuilder,
  ButtonBuilder,
  ButtonStyle
} from "discord.js";

export const data = new SlashCommandBuilder()
  .setName("painel")
  .setDescription("Criar painÃ©is oficiais da facÃ§Ã£o NINE")
  .addStringOption(opt =>
    opt
      .setName("tipo")
      .setDescription("Qual painel deseja criar")
      .setRequired(true)
      .addChoices(
        { name: "Setin", value: "setin" },
        { name: "AÃ§Ã£o", value: "acao" },
        { name: "Elite", value: "elite" },
        { name: "Ranking", value: "ranking" },
        { name: "Hierarquia", value: "hierarquia" }
      )
  );

export async function execute(interaction) {
  const tipo = interaction.options.getString("tipo");

  /* ================= SETIN ================= */
  if (tipo === "setin") {
    const embed = new EmbedBuilder()
      .setTitle("ğŸ“‹ SETIN OFICIAL â€” NINE")
      .setDescription(
        "Para entrar oficialmente na **NINE**, realize seu setin corretamente.\n\n" +
        "ğŸŸ£ Processo rÃ¡pido e automÃ¡tico\n" +
        "ğŸŸ£ Sem erro de nome ou ID\n" +
        "ğŸŸ£ Registro automÃ¡tico de recrutamento\n\n" +
        "Clique no botÃ£o abaixo para iniciar."
      )
      .setColor("#6a0dad")
      .setFooter({ text: "NINE â€¢ Sistema AutomÃ¡tico" });

    const row = new ActionRowBuilder().addComponents(
      new ButtonBuilder()
        .setCustomId("abrir_setin")
        .setLabel("âœ… Fazer Setin")
        .setStyle(ButtonStyle.Primary)
    );

    await interaction.channel.send({ embeds: [embed], components: [row] });
  }

  /* ================= AÃ‡ÃƒO ================= */
  if (tipo === "acao") {
    const embed = new EmbedBuilder()
      .setTitle("ğŸ¯ PAINEL DE AÃ‡Ã•ES â€” NINE")
      .setDescription(
        "Aqui sÃ£o organizadas todas as aÃ§Ãµes da facÃ§Ã£o.\n\n" +
        "âš ï¸ Apenas **Resp.Elite** e **Aux.Elite** podem criar aÃ§Ãµes\n" +
        "ğŸŸ£ EscalaÃ§Ã£o automÃ¡tica\n" +
        "ğŸŸ£ Resultado registrado no ranking da facÃ§Ã£o\n\n" +
        "Clique abaixo para criar uma nova aÃ§Ã£o."
      )
      .setColor("#6a0dad")
      .setFooter({ text: "NINE â€¢ AÃ§Ãµes RP" });

    const row = new ActionRowBuilder().addComponents(
      new ButtonBuilder()
        .setCustomId("abrir_acao")
        .setLabel("ğŸ¯ Criar AÃ§Ã£o")
        .setStyle(ButtonStyle.Success)
    );

    await interaction.channel.send({ embeds: [embed], components: [row] });
  }

  /* ================= ELITE ================= */
  if (tipo === "elite") {
    const embed = new EmbedBuilder()
      .setTitle("â­ SISTEMA ELITE â€” NINE")
      .setDescription(
        "A **Elite** Ã© destinada aos membros que se destacam em aÃ§Ãµes e postura.\n\n" +
        "ğŸŸ£ Preencha o formulÃ¡rio corretamente\n" +
        "ğŸŸ£ Envie clip se possÃ­vel\n" +
        "ğŸŸ£ AvaliaÃ§Ã£o feita pela Resp.Elite\n\n" +
        "Clique abaixo para solicitar."
      )
      .setColor("#6a0dad")
      .setFooter({ text: "NINE â€¢ Elite" });

    const row = new ActionRowBuilder().addComponents(
      new ButtonBuilder()
        .setCustomId("abrir_elite")
        .setLabel("â­ Quero ser Elite")
        .setStyle(ButtonStyle.Primary)
    );

    await interaction.channel.send({ embeds: [embed], components: [row] });
  }

  /* ================= RANKING ================= */
  if (tipo === "ranking") {
    const embed = new EmbedBuilder()
      .setTitle("ğŸ† RANKING DE AÃ‡Ã•ES â€” NINE")
      .setDescription(
        "ğŸ“Š **Resumo geral da facÃ§Ã£o**\n\n" +
        "ğŸ¯ Total de aÃ§Ãµes: **0**\n" +
        "ğŸŸ¢ VitÃ³rias: **0**\n" +
        "ğŸ”´ Derrotas: **0**\n\n" +
        "Este painel Ã© atualizado automaticamente."
      )
      .setColor("#6a0dad")
      .setFooter({ text: "NINE â€¢ Ranking Global" });

    await interaction.channel.send({ embeds: [embed] });
  }

  /* ================= HIERARQUIA ================= */
  if (tipo === "hierarquia") {
    const embed = new EmbedBuilder()
      .setTitle("ğŸ‘‘ HIERARQUIA â€” NINE")
      .setDescription(
        "**ğŸ‘‘ LIDERANÃ‡A**\n" +
        "00 â€¢ 01 â€¢ 02 â€¢ 03\n\n" +
        "**â­ GESTÃƒO**\n" +
        "Sub-LÃ­der â€¢ Gerente Geral â€¢ Gerentes\n\n" +
        "**ğŸ”¥ ELITE**\n" +
        "Resp.Elite â€¢ Aux.Elite â€¢ Elite\n\n" +
        "**ğŸ‘¥ BASE**\n" +
        "Membros"
      )
      .setColor("#6a0dad")
      .setFooter({ text: "NINE â€¢ Estrutura Oficial" });

    await interaction.channel.send({ embeds: [embed] });
  }

  await interaction.reply({
    content: "âœ… Painel criado com sucesso.",
    ephemeral: true
  });
}
