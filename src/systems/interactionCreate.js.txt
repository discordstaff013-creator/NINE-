import fs from "fs";

const config = JSON.parse(
  fs.readFileSync(new URL("../../config.json", import.meta.url))
);

export const name = "interactionCreate";

export async function execute(interaction, client) {
  try {
    // ======================
    // SLASH COMMANDS
    // ======================
    if (interaction.isChatInputCommand()) {
      const command = client.commands.get(interaction.commandName);
      if (!command) return;

      await command.execute(interaction, client);
      return;
    }

    // ======================
    // BOT√ïES DO PAINEL
    // ======================
    if (interaction.isButton()) {

      // PEDIR SET
      if (interaction.customId === "painel_setin") {
        return interaction.reply({
          content: "üìå Sistema de setin ser√° aberto aqui.",
          ephemeral: true
        });
      }

      // CRIAR A√á√ÉO
      if (interaction.customId === "painel_acao") {
        return interaction.reply({
          content: "üéØ Sistema de a√ß√£o ser√° aberto aqui.",
          ephemeral: true
        });
      }

      // TICKET ELITE
      if (interaction.customId === "painel_elite") {
        return interaction.reply({
          content: "‚≠ê Sistema de ticket Elite ser√° aberto aqui.",
          ephemeral: true
        });
      }
    }

  } catch (err) {
    console.error("‚ùå ERRO NO interactionCreate:", err);

    if (!interaction.replied) {
      await interaction.reply({
        content: "‚ùå Erro interno no bot.",
        ephemeral: true
      });
    }
  }
}
